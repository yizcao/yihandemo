<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>javascript获得鼠标位置</title>

<script>
	var x;
	var y;
	var status=0;
	
	function mouseMove(ev){
		
		if (status==0) {
			Ev= ev || window.event;
			var mousePos = mouseCoords(ev);
			document.getElementById("xxx").value = mousePos.x;
			x = mousePos.x;
			y = mousePos.y;
			document.getElementById("yyy").value = mousePos.y;
			
			document.getElementById("Img").style.left=x+"px";
			document.getElementById("Img").style.top=y+"px";
		}else if(status ==1){
			alert(status);
			document.getElementById("Img").style.left="50px";
			document.getElementById("Img").style.top="50px";
		}
		
	}
	
	function mouseCoords(ev){
		
		if(ev.pageX || ev.pageY){
			return {x:ev.pageX, y:ev.pageY};
			}
			return{
				x:ev.clientX + document.body.scrollLeft - document.body.clientLeft,
				y:ev.clientY + document.body.scrollTop - document.body.clientTop
			}
	}
	
	function GetMouse(){
		status=0;
		document.onmousemove = mouseMove;
	}
	
	function stopGetMouse(){
		document.onmousemove = "";
		document.getElementById("Img").style.display="none";
		status=1;
		alert(status);
	}
</script>

</head>
<body>
<div id="click" style="width: 100px; height: 100px; background-color: red; " onclick="GetMouse()"></div><hr/>
<div id="bemoved" style="width: 100px; height: 100px; background-color: red;" onclick="stopGetMouse()">
123123</div>
鼠标X轴:
<input id=xxx type=text>
鼠标Y轴:
<input id=yyy type=text>


<div id="Img" style="position: absolute; width: 100px; height: 100px;">
<img src="http://www.sucaitianxia.com/png/UploadFiles_6130/200807/20080702002356141.png" />
</div>
</body> 